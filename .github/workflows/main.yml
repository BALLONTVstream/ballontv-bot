<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f7f6; padding: 15px; text-align: center; }
        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        h2 { color: #333; margin-bottom: 20px; }
        input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        .platform-label { display: block; text-align: right; font-weight: bold; margin-top: 10px; color: #555; }
        button { background: #007bff; color: white; border: none; padding: 15px; width: 100%; border-radius: 8px; font-size: 18px; cursor: pointer; margin-top: 20px; transition: 0.3s; }
        button:hover { background: #0056b3; }
        #status { margin-top: 20px; font-size: 14px; padding: 10px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>

<div class="card">
    <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ø¨Ø« Ø§Ù„Ù…ØªØ¹Ø¯Ø¯ ğŸš€</h2>
    
    <span class="platform-label">Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (YouTube/Link):</span>
    <input type="text" id="videoUrl" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù‡Ù†Ø§">

    <hr>

    <span class="platform-label">Ù…ÙØªØ§Ø­ ÙŠÙˆØªÙŠÙˆØ¨ (YouTube Key):</span>
    <input type="text" id="ytKey" placeholder="2ka8-xxxx-xxxx-xxxx">

    <span class="platform-label">Ø±Ø§Ø¨Ø· ÙÙŠØ³Ø¨ÙˆÙƒ Ø§Ù„ÙƒØ§Ù…Ù„ (Facebook RTMP URL):</span>
    <input type="text" id="fbKey" placeholder="rtmps://live-api-s.facebook.com:443/rtmp/...">

    <span class="platform-label">Ù…ÙØªØ§Ø­ ÙƒÙŠÙƒ (Kik Stream Key):</span>
    <input type="text" id="kikKey" placeholder="sk_us-west-2_xxxxxx">

    <button onclick="startMultiStream()">Ø¨Ø¯Ø¡ Ø§Ù„Ø¨Ø« ÙÙŠ ÙƒÙ„ Ø§Ù„Ù…Ù†ØµØ§Øª</button>
    
    <div id="status"></div>
</div>

<script>
    function startMultiStream() {
        // --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¬ÙŠØª Ù‡Ø§Ø¨ (ÙŠØ¬Ø¨ ØªØ¹Ø¨Ø¦ØªÙ‡Ø§) ---
        const GITHUB_TOKEN = "Ø¶Ø¹_Ø§Ù„ØªÙˆÙƒÙ†_Ø§Ù„Ø®Ø§Øµ_Ø¨Ùƒ_Ù‡Ù†Ø§";
        const USERNAME = "Ø§Ø³Ù…_Ø­Ø³Ø§Ø¨Ùƒ";
        const REPO_NAME = "Ø§Ø³Ù…_Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹";
        // ------------------------------------

        const videoUrl = document.getElementById('videoUrl').value;
        const ytKey = document.getElementById('ytKey').value;
        const fbKey = document.getElementById('fbKey').value;
        const kikKey = document.getElementById('kikKey').value;
        const statusDiv = document.getElementById('status');

        if (!videoUrl) {
            alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø£ÙˆÙ„Ø§Ù‹!");
            return;
        }

        statusDiv.className = "";
        statusDiv.innerText = "â³ Ø¬Ø§Ø±ÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙˆØ§Ù„Ø¨Ø«...";

        const apiUrl = `https://api.github.com/repos/${USERNAME}/${REPO_NAME}/actions/workflows/main.yml/dispatches`;

        fetch(apiUrl, {
            method: 'POST',
            headers: {
                'Authorization': `token ${GITHUB_TOKEN}`,
                'Accept': 'application/vnd.github.v3+json'
            },
            body: JSON.stringify({
                ref: 'main',
                inputs: {
                    video_url: videoUrl,
                    yt_key: ytKey || "none",
                    fb_key: fbKey || "none",
                    kik_key: kikKey || "none"
                }
            })
        })
        .then(response => {
            if (response.ok) {
                statusDiv.className = "success";
                statusDiv.innerText = "âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø£Ù…Ø±! Ø§Ù„Ø¨Ø« Ø³ÙŠØ¹Ù…Ù„ Ø®Ù„Ø§Ù„ Ù„Ø­Ø¸Ø§Øª Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©.";
            } else {
                statusDiv.className = "error";
                statusDiv.innerText = "âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ† ÙˆØ¥Ø¹Ø¯Ø§Ø¯Ø§Øª GitHub.";
            }
        })
        .catch(err => {
            statusDiv.className = "error";
            statusDiv.innerText = "âš ï¸ ÙØ´Ù„ Ø§Ù„Ø·Ù„Ø¨: " + err;
        });
    }
</script>

</body>
</html>
